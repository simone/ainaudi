/* ==========================================================================
   NIGHT THEME v3 - TRUE DARK MODE
   Approccio dark mode reale: tutto scuro, testo chiaro, colori brillanti
   ========================================================================== */

/* --------------------------------------------------------------------------
   CSS Variables - True Dark Mode Palette
   -------------------------------------------------------------------------- */
[data-theme="night"] {
  /* Dark mode backgrounds */
  --bg-dark-primary: #1a1d29;      /* Quasi nero */
  --bg-dark-secondary: #252936;    /* Grigio scuro */
  --bg-dark-tertiary: #2f3541;     /* Grigio medio scuro */
  --bg-dark-elevated: #363c4a;     /* Elevato (modals, dropdowns) */

  /* Navy accents */
  --bg-navy-dark: #1e3a5f;         /* Navy originale */
  --bg-navy-medium: #2c4a6e;       /* Navy più chiaro */
  --bg-navy-light: #3a5a7d;        /* Navy chiaro */

  /* Text colors */
  --text-primary: #e4e6eb;         /* Bianco caldo */
  --text-secondary: #b8bcc8;       /* Grigio chiaro */
  --text-muted: #b8bcc8;           /* Grigio medio */
  --text-inverse: #1a1d29;         /* Nero (per badges) */

  /* Accent colors - BRILLANTI per visibilità */
  --color-accent-red: #ff6b6b;     /* Rosso brillante */
  --color-accent-red-light: #ff8787;
  --color-accent-red-dark: #ff5252;

  /* Semantic colors - BRILLANTI */
  --color-info: #4fc3f7;           /* Ciano brillante */
  --color-info-bg: rgba(79, 195, 247, 0.15);
  --color-info-border: rgba(79, 195, 247, 0.3);

  --color-success: #66bb6a;        /* Verde brillante */
  --color-success-bg: rgba(102, 187, 106, 0.15);
  --color-success-border: rgba(102, 187, 106, 0.3);

  --color-warning: #ffa726;        /* Arancione brillante */
  --color-warning-bg: rgba(255, 167, 38, 0.15);
  --color-warning-border: rgba(255, 167, 38, 0.3);

  --color-danger: #ef5350;         /* Rosso brillante */
  --color-danger-bg: rgba(239, 83, 80, 0.15);
  --color-danger-border: rgba(239, 83, 80, 0.3);

  /* Borders */
  --border-dark: rgba(255, 255, 255, 0.08);
  --border-medium: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.2);

  /* Shadows */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.6);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.7);
}

/* --------------------------------------------------------------------------
   Body & Layout - Dark everywhere
   -------------------------------------------------------------------------- */
[data-theme="night"] body {
  background: var(--bg-dark-primary);
  color: var(--text-primary);
}

[data-theme="night"] .main-content {
  background: var(--bg-dark-primary);
  color: var(--text-primary);
}

/* --------------------------------------------------------------------------
   Navbar - Dark navy
   -------------------------------------------------------------------------- */
[data-theme="night"] .navbar {
  background: linear-gradient(135deg, var(--bg-navy-dark) 0%, var(--bg-navy-medium) 100%) !important;
  border-bottom: 2px solid var(--color-accent-red);
  box-shadow: var(--shadow-md);
}

[data-theme="night"] .navbar-brand {
  color: var(--text-primary) !important;
  font-weight: 700;
}

[data-theme="night"] .navbar .nav-link {
  color: var(--text-secondary) !important;
}

[data-theme="night"] .navbar .nav-link:hover,
[data-theme="night"] .navbar .nav-link.active {
  color: var(--text-primary) !important;
  background: rgba(255, 107, 107, 0.15);
  border-radius: 8px;
}

/* Dropdown menus - dark elevated */
[data-theme="night"] .navbar .dropdown-menu {
  background: var(--bg-dark-elevated) !important;
  border: 1px solid var(--border-strong);
  box-shadow: var(--shadow-lg);
}

[data-theme="night"] .navbar .dropdown-item {
  color: var(--text-primary) !important;
}

[data-theme="night"] .navbar .dropdown-item:hover,
[data-theme="night"] .navbar .dropdown-item:focus {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .navbar .dropdown-item.active {
  background: rgba(255, 107, 107, 0.2) !important;
  color: var(--text-primary) !important;
}

/* --------------------------------------------------------------------------
   Nav Tabs - Dark backgrounds
   -------------------------------------------------------------------------- */
[data-theme="night"] .nav-tabs {
  border-bottom-color: var(--border-medium);
}

[data-theme="night"] .nav-tabs .nav-link {
  background: var(--bg-dark-secondary);
  color: var(--text-secondary);
  border-color: var(--border-dark);
}

[data-theme="night"] .nav-tabs .nav-link:hover {
  background: var(--bg-dark-tertiary);
  color: var(--text-primary);
  border-color: var(--border-medium);
}

[data-theme="night"] .nav-tabs .nav-link.active,
[data-theme="night"] .nav-tabs .nav-item.show .nav-link {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-medium) var(--border-medium) transparent !important;
  --bs-nav-tabs-link-active-bg: var(--bg-dark-tertiary) !important;
  --bs-nav-tabs-link-active-color: var(--text-primary) !important;
  --bs-nav-tabs-link-active-border-color: var(--border-medium) !important;
}

[data-theme="night"] .tab-content {
  background: var(--bg-dark-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-medium);
  border-top: none;
  padding: 1rem;
}

/* --------------------------------------------------------------------------
   Accordion - Dark backgrounds
   -------------------------------------------------------------------------- */
[data-theme="night"] .accordion {
  --bs-accordion-color: var(--text-primary) !important;
  --bs-accordion-bg: var(--bg-dark-secondary) !important;
  --bs-accordion-border-color: var(--border-medium) !important;
  --bs-accordion-btn-color: var(--text-primary) !important;
  --bs-accordion-btn-bg: var(--bg-dark-secondary) !important;
  --bs-accordion-btn-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23e4e6eb' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M2 5L8 11L14 5'/%3e%3c/svg%3e") !important;
  --bs-accordion-btn-active-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23ff6b6b' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M2 5L8 11L14 5'/%3e%3c/svg%3e") !important;
  --bs-accordion-active-color: var(--text-primary) !important;
  --bs-accordion-active-bg: var(--bg-dark-tertiary) !important;
  --bs-accordion-btn-focus-box-shadow: 0 0 0 0.25rem rgba(255, 107, 107, 0.25) !important;
}

[data-theme="night"] .accordion-item {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-medium) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .accordion-button {
  background: var(--bg-dark-secondary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .accordion-button:not(.collapsed) {
  background: var(--bg-dark-tertiary) !important;
  color: var(--color-accent-red) !important;
  box-shadow: inset 0 -1px 0 var(--border-medium) !important;
}

[data-theme="night"] .accordion-button:hover {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .accordion-button:focus {
  border-color: var(--color-accent-red) !important;
  box-shadow: 0 0 0 0.25rem rgba(255, 107, 107, 0.25) !important;
}

[data-theme="night"] .accordion-body {
  background: var(--bg-dark-secondary) !important;
  color: var(--text-primary) !important;
}

/* Ensure all elements inside accordion-body are readable */
[data-theme="night"] .accordion-body p,
[data-theme="night"] .accordion-body ul,
[data-theme="night"] .accordion-body li,
[data-theme="night"] .accordion-body strong,
[data-theme="night"] .accordion-body div {
  color: inherit !important;
}

[data-theme="night"] .accordion-body .text-muted,
[data-theme="night"] .accordion-body small.text-muted {
  color: var(--text-muted) !important;
}

/* --------------------------------------------------------------------------
   Cards - DARK not white!
   -------------------------------------------------------------------------- */
[data-theme="night"] .card {
  background: var(--bg-dark-secondary) !important;
  border: 1px solid var(--border-dark);
  border-radius: 12px;
  box-shadow: var(--shadow-md);
  color: var(--text-primary);
}

/* Card headers - keep colorful but darken */
[data-theme="night"] .card-header {
  background: var(--bg-dark-tertiary) !important;
  border-bottom: 1px solid var(--border-medium);
  color: var(--text-primary) !important;
}

/* Card body */
[data-theme="night"] .card-body {
  background: var(--bg-dark-secondary) !important;
  color: var(--text-primary) !important;
}

/* Dashboard cards - preserve colors naturally */
[data-theme="night"] .card .card-header[style*="background"] {
  /* Removed opacity hack - let colors be natural */
  border-bottom: 2px solid var(--color-accent-red);
}

/* --------------------------------------------------------------------------
   Buttons - Bright accents
   -------------------------------------------------------------------------- */
[data-theme="night"] .btn-primary {
  background: linear-gradient(135deg, var(--color-accent-red) 0%, var(--color-accent-red-dark) 100%);
  border: none;
  color: #ffffff;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
}

[data-theme="night"] .btn-primary:hover {
  background: linear-gradient(135deg, var(--color-accent-red-light) 0%, var(--color-accent-red) 100%);
  box-shadow: 0 6px 16px rgba(255, 107, 107, 0.6);
  transform: translateY(-2px);
}

[data-theme="night"] .btn-secondary {
  background: var(--bg-dark-tertiary);
  border: 1px solid var(--border-strong);
  color: var(--text-primary);
}

[data-theme="night"] .btn-secondary:hover {
  background: var(--bg-dark-elevated);
  border-color: var(--border-strong);
  color: var(--text-primary);
}

[data-theme="night"] .btn-success {
  background: var(--color-success);
  color: #ffffff;
  border: none;
}

[data-theme="night"] .btn-danger {
  background: var(--color-danger);
  color: #ffffff;
  border: none;
}

[data-theme="night"] .btn-warning {
  background: var(--color-warning);
  color: var(--text-inverse);
  border: none;
}

[data-theme="night"] .btn-info {
  background: var(--color-info);
  color: var(--text-inverse);
  border: none;
}

[data-theme="night"] .btn-outline-warning {
  border-color: var(--color-warning);
  color: var(--color-warning);
}

[data-theme="night"] .btn-outline-warning:hover {
  background: var(--color-warning);
  color: var(--text-inverse);
}

/* --------------------------------------------------------------------------
   Forms - Dark inputs
   -------------------------------------------------------------------------- */
[data-theme="night"] .form-control,
[data-theme="night"] .form-select {
  background: var(--bg-dark-tertiary);
  border: 1px solid var(--border-medium);
  color: var(--text-primary);
}

[data-theme="night"] .form-control:focus,
[data-theme="night"] .form-select:focus {
  background: var(--bg-dark-elevated);
  border-color: var(--color-accent-red);
  box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.25);
  color: var(--text-primary);
}

[data-theme="night"] .form-control::placeholder {
  color: var(--text-muted);
}

[data-theme="night"] .form-label {
  color: var(--text-secondary);
  font-weight: 500;
}

/* Generic inputs without .form-control class */
[data-theme="night"] input[type="text"],
[data-theme="night"] input[type="email"],
[data-theme="night"] input[type="password"],
[data-theme="night"] input[type="search"],
[data-theme="night"] input[type="number"],
[data-theme="night"] input[type="tel"],
[data-theme="night"] input[type="url"],
[data-theme="night"] textarea {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] input[type="text"]::placeholder,
[data-theme="night"] input[type="email"]::placeholder,
[data-theme="night"] input[type="password"]::placeholder,
[data-theme="night"] input[type="search"]::placeholder,
[data-theme="night"] textarea::placeholder {
  color: var(--text-muted) !important;
}

[data-theme="night"] input[type="text"]:focus,
[data-theme="night"] input[type="email"]:focus,
[data-theme="night"] input[type="password"]:focus,
[data-theme="night"] input[type="search"]:focus,
[data-theme="night"] textarea:focus {
  background: var(--bg-dark-elevated) !important;
  border-color: var(--color-accent-red) !important;
  box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.25) !important;
  outline: none !important;
}


/* Form check (checkboxes, radios) */
[data-theme="night"] .form-check-input {
  background-color: var(--bg-dark-tertiary);
  border-color: var(--border-medium);
}

[data-theme="night"] .form-check-input:checked {
  background-color: var(--color-accent-red);
  border-color: var(--color-accent-red);
}

[data-theme="night"] .form-check-label {
  color: var(--text-primary);
}

/* --------------------------------------------------------------------------
   Progress bars - Dark backgrounds
   -------------------------------------------------------------------------- */
[data-theme="night"] .progress,
[data-theme="night"] .progress-stacked {
  background-color: var(--bg-dark-tertiary) !important;
  --bs-progress-bg: var(--bg-dark-tertiary) !important;
  --bs-progress-bar-bg: var(--color-accent-red) !important;
  --bs-progress-bar-color: #ffffff !important;
}

[data-theme="night"] .progress-bar {
  background-color: var(--color-accent-red) !important;
}

[data-theme="night"] .progress-bar-striped {
  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );
}

/* --------------------------------------------------------------------------
   Alerts - Bright and visible
   -------------------------------------------------------------------------- */
[data-theme="night"] .alert {
  border-radius: 12px;
  border: 1px solid;
  font-weight: 500;
}

[data-theme="night"] .alert-info {
  background: var(--color-info-bg);
  border-color: var(--color-info-border);
  color: var(--color-info);
}

[data-theme="night"] .alert-success {
  background: var(--color-success-bg);
  border-color: var(--color-success-border);
  color: var(--color-success);
}

[data-theme="night"] .alert-warning {
  background: var(--color-warning-bg);
  border-color: var(--color-warning-border);
  color: var(--color-warning);
}

[data-theme="night"] .alert-danger {
  background: var(--color-danger-bg);
  border-color: var(--color-danger-border);
  color: var(--color-danger);
}

[data-theme="night"] .alert-primary {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--color-accent-red) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .alert-light {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
  color: var(--text-secondary) !important;
  --bs-alert-bg: var(--bg-dark-tertiary) !important;
  --bs-alert-color: var(--text-secondary) !important;
  --bs-alert-border-color: var(--border-medium) !important;
  --bs-alert-link-color: var(--text-primary) !important;
}

[data-theme="night"] .alert-secondary {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
  color: var(--text-secondary) !important;
  --bs-alert-bg: var(--bg-dark-tertiary) !important;
  --bs-alert-color: var(--text-secondary) !important;
  --bs-alert-border-color: var(--border-medium) !important;
  --bs-alert-link-color: var(--text-primary) !important;
}

/* --------------------------------------------------------------------------
   Badges - Bright
   -------------------------------------------------------------------------- */
[data-theme="night"] .badge {
  font-weight: 600;
}

[data-theme="night"] .badge.bg-primary {
  background: var(--color-accent-red) !important;
  color: #ffffff !important;
}

[data-theme="night"] .badge.bg-secondary {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .badge.bg-success {
  background: var(--color-success) !important;
  color: #ffffff !important;
}

[data-theme="night"] .badge.bg-warning {
  background: var(--color-warning) !important;
  color: var(--text-inverse) !important;
}

[data-theme="night"] .badge.bg-danger {
  background: var(--color-danger) !important;
  color: #ffffff !important;
}

[data-theme="night"] .badge.bg-info {
  background: var(--color-info) !important;
  color: var(--text-inverse) !important;
}

/* --------------------------------------------------------------------------
   Bootstrap Utility Classes - Override light backgrounds
   -------------------------------------------------------------------------- */
[data-theme="night"] .bg-white {
  background-color: var(--bg-dark-secondary) !important;
  --bs-bg-opacity: 1 !important;
}

[data-theme="night"] .bg-light {
  background-color: var(--bg-dark-tertiary) !important;
  --bs-bg-opacity: 1 !important;
}

[data-theme="night"] .text-dark {
  color: var(--text-primary) !important;
}

[data-theme="night"] .text-muted {
  color: var(--text-muted) !important;
}

[data-theme="night"] .text-black {
  color: var(--text-primary) !important;
}

[data-theme="night"] .border {
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .border-light {
  border-color: var(--border-dark) !important;
}

/* --------------------------------------------------------------------------
   Lists - Dark
   -------------------------------------------------------------------------- */
[data-theme="night"] .list-group-item {
  background: var(--bg-dark-secondary);
  border: 1px solid var(--border-dark);
  color: var(--text-primary);
  margin-bottom: 8px;
  border-radius: 8px;
}

[data-theme="night"] .list-group-item:hover {
  background: var(--bg-dark-tertiary);
  box-shadow: var(--shadow-sm);
  transform: translateY(-1px);
}

/* --------------------------------------------------------------------------
   Tables - Dark (force over Bootstrap variables)
   -------------------------------------------------------------------------- */
[data-theme="night"] .table {
  background: var(--bg-dark-secondary) !important;
  color: var(--text-primary) !important;
  --bs-table-bg: var(--bg-dark-secondary) !important;
  --bs-table-color: var(--text-primary) !important;
  --bs-body-bg: var(--bg-dark-secondary) !important;
}

[data-theme="night"] .table thead {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .table thead th {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .table tbody tr {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .table tbody tr:nth-of-type(odd) {
  background: var(--bg-dark-secondary) !important;
  --bs-table-accent-bg: transparent !important;
}

[data-theme="night"] .table-striped tbody tr:nth-of-type(odd) {
  background: rgba(255, 255, 255, 0.03) !important;
}

[data-theme="night"] .table-hover tbody tr:hover {
  background: var(--bg-dark-tertiary) !important;
  --bs-table-hover-bg: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .table td,
[data-theme="night"] .table th {
  border-color: var(--border-dark) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .table-bordered {
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .table-bordered th,
[data-theme="night"] .table-bordered td {
  border-color: var(--border-dark) !important;
}

/* Code elements in tables and elsewhere */
[data-theme="night"] code,
[data-theme="night"] .table code,
[data-theme="night"] pre code {
  background: var(--bg-dark-tertiary) !important;
  color: var(--color-accent-red) !important;
  border: 1px solid var(--border-medium);
}

[data-theme="night"] pre {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-medium);
}

/* --------------------------------------------------------------------------
   Modals - Dark
   -------------------------------------------------------------------------- */
[data-theme="night"] .modal-backdrop-custom {
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(4px);
}

[data-theme="night"] .modal-custom {
  background: var(--bg-dark-elevated);
  border: 2px solid var(--color-accent-red);
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
  color: var(--text-primary);
}

[data-theme="night"] .modal-custom-header {
  background: var(--bg-dark-tertiary);
  color: var(--text-primary);
  border-bottom: 2px solid var(--color-accent-red);
}

[data-theme="night"] .modal-custom-body {
  background: var(--bg-dark-elevated);
  color: var(--text-primary);
}

[data-theme="night"] .modal-content {
  background: var(--bg-dark-elevated);
  border: 1px solid var(--border-strong);
  color: var(--text-primary);
}

[data-theme="night"] .modal-header {
  background: var(--bg-dark-tertiary);
  border-bottom: 1px solid var(--border-medium);
  color: var(--text-primary);
}

[data-theme="night"] .modal-body {
  background: var(--bg-dark-elevated);
  color: var(--text-primary);
}

[data-theme="night"] .modal-footer {
  background: var(--bg-dark-elevated);
  border-top: 1px solid var(--border-medium);
}

/* --------------------------------------------------------------------------
   Page Headers
   -------------------------------------------------------------------------- */
[data-theme="night"] .page-header {
  box-shadow: var(--shadow-md);
  border-left-width: 4px;
  border-left-color: var(--color-accent-red);
}

/* --------------------------------------------------------------------------
   Dashboard Cards
   -------------------------------------------------------------------------- */
[data-theme="night"] .dashboard-card {
  background: var(--bg-dark-secondary) !important;
}

[data-theme="night"] .dashboard-card-header {
  /* Let natural colors show - no opacity/filter hacks */
}

[data-theme="night"] .dashboard-card .card-body {
  background: var(--bg-dark-secondary) !important;
  color: var(--text-primary) !important;
}

/* --------------------------------------------------------------------------
   Footer - Dark
   -------------------------------------------------------------------------- */
[data-theme="night"] .custom-footer {
  background: var(--bg-dark-tertiary);
  border-top: 2px solid var(--color-accent-red);
  color: var(--text-secondary);
}

/* --------------------------------------------------------------------------
   Scrollbar - Dark
   -------------------------------------------------------------------------- */
[data-theme="night"] ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

[data-theme="night"] ::-webkit-scrollbar-track {
  background: var(--bg-dark-primary);
}

[data-theme="night"] ::-webkit-scrollbar-thumb {
  background: var(--color-accent-red);
  border-radius: 6px;
  border: 2px solid var(--bg-dark-primary);
}

[data-theme="night"] ::-webkit-scrollbar-thumb:hover {
  background: var(--color-accent-red-light);
}

/* --------------------------------------------------------------------------
   Text Colors - Always visible
   -------------------------------------------------------------------------- */
[data-theme="night"] h1,
[data-theme="night"] h2,
[data-theme="night"] h3,
[data-theme="night"] h4,
[data-theme="night"] h5,
[data-theme="night"] h6 {
  color: var(--text-primary);
}

[data-theme="night"] p {
  color: var(--text-primary);
}

[data-theme="night"] .text-muted {
  color: var(--text-muted) !important;
}

[data-theme="night"] .text-secondary {
  color: var(--text-secondary) !important;
}

[data-theme="night"] small,
[data-theme="night"] .small {
  color: var(--text-secondary);
}

/* Never black text! */
[data-theme="night"] .text-dark {
  color: var(--text-primary) !important;
}

/* Links - bright accent */
[data-theme="night"] a {
  color: var(--color-accent-red);
}

[data-theme="night"] a:hover {
  color: var(--color-accent-red-light);
}

/* --------------------------------------------------------------------------
   Component Specific - Dark
   -------------------------------------------------------------------------- */

/* GestioneRdl component overrides */
[data-theme="night"] .rdl-card {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .rdl-card-compact {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .rdl-filters {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .rdl-stats {
  background: var(--bg-dark-secondary) !important;
  box-shadow: var(--shadow-md);
}

[data-theme="night"] .rdl-stat-box {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .rdl-territory-filters {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .rdl-bulk-actions {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .rdl-edit-container {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .rdl-data-label {
  color: var(--text-secondary) !important;
}

[data-theme="night"] .rdl-data-value {
  color: var(--text-primary) !important;
}

[data-theme="night"] .rdl-section-header {
  color: var(--text-secondary) !important;
  border-bottom-color: var(--border-medium) !important;
}

[data-theme="night"] .rdl-stat-label {
  color: var(--text-secondary) !important;
}

[data-theme="night"] .rdl-form-label {
  color: var(--text-primary) !important;
}

[data-theme="night"] .rdl-badge-info {
  background: var(--color-info-bg) !important;
  color: var(--color-info) !important;
}

[data-theme="night"] .rdl-badge-primary {
  background: rgba(255, 107, 107, 0.15) !important;
  color: var(--color-accent-red) !important;
}

[data-theme="night"] .rdl-badge-muted {
  background: var(--bg-dark-elevated) !important;
  color: var(--text-secondary) !important;
}

[data-theme="night"] .rdl-expandable-content {
  border-top-color: var(--border-medium) !important;
}

/* Document cards (Risorse page) */
[data-theme="night"] .doc-card {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-medium) !important;
}

[data-theme="night"] .doc-card:hover {
  background: var(--bg-dark-tertiary) !important;
  box-shadow: var(--shadow-md);
}

[data-theme="night"] .doc-card:active {
  background: var(--bg-dark-elevated) !important;
}

[data-theme="night"] .doc-card-title {
  color: var(--text-primary) !important;
}

/* GestioneDesignazioni component overrides */
[data-theme="night"] .gd-card {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .gd-card-header {
  background: var(--bg-dark-tertiary) !important;
  border-bottom-color: var(--border-dark) !important;
}

[data-theme="night"] .gd-card-body {
  background: var(--bg-dark-secondary) !important;
}

[data-theme="night"] .gd-pdf-document {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .gd-processo-alert {
  background: var(--color-info-bg) !important;
  border-color: var(--color-info-border) !important;
  color: var(--color-info) !important;
}

[data-theme="night"] .gd-select-all-bar {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-sezione-item {
  background: var(--bg-dark-secondary) !important;
}

[data-theme="night"] .gd-sezione-item:hover {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-archivio-item {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
}

[data-theme="night"] .gd-archivio-header {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-archivio-header:hover {
  background: var(--bg-dark-elevated) !important;
}

[data-theme="night"] .gd-archivio-header:active {
  background: var(--bg-dark-elevated) !important;
}

[data-theme="night"] .gd-archivio-body {
  background: var(--bg-dark-secondary) !important;
  border-top-color: var(--border-dark) !important;
}

[data-theme="night"] .gd-sezioni-archive-list .gd-sezione-item {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-sezioni-archive-list .gd-sezione-item:hover {
  background: var(--bg-dark-elevated) !important;
}

[data-theme="night"] .gd-territory-card {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .gd-territory-card:hover {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-territory-card:active {
  background: var(--bg-dark-elevated) !important;
}

[data-theme="night"] .gd-territory-card-name {
  color: var(--text-primary) !important;
}

[data-theme="night"] .gd-territory-card-name .sigla {
  color: var(--text-secondary) !important;
}

[data-theme="night"] .gd-territory-card-stats {
  color: var(--text-secondary) !important;
}

[data-theme="night"] .gd-territory-progress-text {
  color: var(--text-primary) !important;
}

[data-theme="night"] .gd-territory-progress-text strong {
  color: var(--text-primary) !important;
}

[data-theme="night"] .gd-territory-progress-bar {
  background: var(--bg-dark-tertiary) !important;
}

[data-theme="night"] .gd-checkbox-wrapper {
  background: var(--bg-dark-tertiary) !important;
}

/* Section lists */
[data-theme="night"] .sezioni-section-header {
  background: var(--bg-dark-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Status badges inline */
[data-theme="night"] span[style*="backgroundColor"] {
  border: 1px solid var(--border-medium) !important;
}

/* Info boxes - override inline styles */
[data-theme="night"] div[style*="background: #e7f3ff"],
[data-theme="night"] div[style*="background:#e7f3ff"],
[data-theme="night"] div[style*="background: #e3f2fd"],
[data-theme="night"] div[style*="background:#e3f2fd"] {
  background: var(--color-info-bg) !important;
  border-color: var(--color-info-border) !important;
  color: var(--color-info) !important;
}

[data-theme="night"] div[style*="background: #fff3cd"],
[data-theme="night"] div[style*="background:#fff3cd"],
[data-theme="night"] div[style*="background: #fffbf0"],
[data-theme="night"] div[style*="background:#fffbf0"] {
  background: var(--color-warning-bg) !important;
  border-color: var(--color-warning-border) !important;
  color: var(--color-warning) !important;
}

[data-theme="night"] div[style*="background: #f8f9fa"],
[data-theme="night"] div[style*="background:#f8f9fa"],
[data-theme="night"] div[style*="background: rgb(248, 249, 250)"],
[data-theme="night"] div[style*="background:rgb(248, 249, 250)"],
[data-theme="night"] div[style*="background: rgb(248,249,250)"],
[data-theme="night"] div[style*="background: white"],
[data-theme="night"] div[style*="background:white"],
[data-theme="night"] div[style*="background: #fff"],
[data-theme="night"] div[style*="background:#fff"],
[data-theme="night"] div[style*="background: #ffffff"],
[data-theme="night"] div[style*="background:#ffffff"],
[data-theme="night"] div[style*="background-color: rgb(255, 255, 255)"],
[data-theme="night"] div[style*="background-color:rgb(255, 255, 255)"],
[data-theme="night"] div[style*="background-color: rgb(255,255,255)"],
[data-theme="night"] div[style*="background-color: rgb(248, 249, 250)"],
[data-theme="night"] div[style*="background-color:rgb(248, 249, 250)"],
[data-theme="night"] div[style*="background-color: rgb(248,249,250)"],
[data-theme="night"] div[style*="background-color: rgb(245, 245, 245)"],
[data-theme="night"] div[style*="background-color:rgb(245, 245, 245)"],
[data-theme="night"] div[style*="background-color: rgb(245,245,245)"],
[data-theme="night"] div[style*="background-color: rgb(233, 236, 239)"],
[data-theme="night"] div[style*="background-color:rgb(233, 236, 239)"],
[data-theme="night"] div[style*="background-color: rgb(233,236,239)"],
[data-theme="night"] span[style*="background-color: rgb(245, 245, 245)"],
[data-theme="night"] span[style*="background-color: rgb(233, 236, 239)"] {
  background: var(--bg-dark-secondary) !important;
  background-color: var(--bg-dark-secondary) !important;
}



/* Info/primary subtle background - light blue */
[data-theme="night"] div[style*="background-color: rgb(231, 243, 255)"],
[data-theme="night"] div[style*="background-color:rgb(231, 243, 255)"],
[data-theme="night"] div[style*="background-color: rgb(231,243,255)"] {
  background: var(--color-info-bg) !important;
  background-color: var(--color-info-bg) !important;
  border: 1px solid var(--color-info) !important;
}

/* Primary/info bright blue text - too bright on dark */
[data-theme="night"] div[style*="color: rgb(13, 110, 253)"] {
  color: var(--color-info) !important;
}

/* Inline styles - box-shadow overrides for dark mode visibility */
[data-theme="night"] div[style*="box-shadow: rgba(0, 0, 0, 0.1)"],
[data-theme="night"] div[style*="box-shadow:rgba(0, 0, 0, 0.1)"],
[data-theme="night"] div[style*="box-shadow: rgba(0,0,0,0.1)"] {
  box-shadow: 0 1px 3px rgba(255, 255, 255, 0.1) !important;
  border: 1px solid var(--border-dark) !important;
}

[data-theme="night"] div[style*="box-shadow: rgba(0, 0, 0, 0.05)"],
[data-theme="night"] div[style*="box-shadow:rgba(0, 0, 0, 0.05)"],
[data-theme="night"] div[style*="box-shadow: rgba(0,0,0,0.05)"] {
  box-shadow: 0 1px 2px rgba(255, 255, 255, 0.08) !important;
  border: 1px solid var(--border-dark) !important;
}

/* Success/danger subtle backgrounds - light green/pink */
[data-theme="night"] div[style*="background: rgb(209, 231, 221)"],
[data-theme="night"] div[style*="background:rgb(209, 231, 221)"],
[data-theme="night"] div[style*="background: rgb(209,231,221)"] {
  background: var(--color-success-bg) !important;
  border-color: var(--color-success) !important;
}

[data-theme="night"] div[style*="background: rgb(248, 215, 218)"],
[data-theme="night"] div[style*="background:rgb(248, 215, 218)"],
[data-theme="night"] div[style*="background: rgb(248,215,218)"] {
  background: var(--color-danger-bg) !important;
  border-color: var(--color-danger) !important;
}

/* Text color overrides - catch all dark text on inline styles */
[data-theme="night"] div[style*="color: #495057"],
[data-theme="night"] div[style*="color: #212529"],
[data-theme="night"] div[style*="color: #333"],
[data-theme="night"] div[style*="color: #333333"],
[data-theme="night"] div[style*="color: rgb(51, 51, 51)"],
[data-theme="night"] div[style*="color:rgb(51, 51, 51)"],
[data-theme="night"] div[style*="color: rgb(51,51,51)"],
[data-theme="night"] div[style*="color: rgb(73, 80, 87)"],
[data-theme="night"] div[style*="color:rgb(73, 80, 87)"],
[data-theme="night"] div[style*="color: rgb(73,80,87)"],
[data-theme="night"] div[style*="color: rgb(108, 117, 125)"],
[data-theme="night"] div[style*="color:rgb(108, 117, 125)"],
[data-theme="night"] div[style*="color: rgb(108,117,125)"],
[data-theme="night"] div[style*="color: rgb(33, 37, 41)"],
[data-theme="night"] div[style*="color:rgb(33, 37, 41)"],
[data-theme="night"] div[style*="color: rgb(33,37,41)"],
[data-theme="night"] span[style*="color: rgb(51, 51, 51)"],
[data-theme="night"] span[style*="color: rgb(73, 80, 87)"],
[data-theme="night"] span[style*="color: rgb(108, 117, 125)"],
[data-theme="night"] span[style*="color: rgb(33, 37, 41)"],
[data-theme="night"] span[style*="color: #333"],
[data-theme="night"] p[style*="color: rgb(51, 51, 51)"],
[data-theme="night"] p[style*="color: rgb(73, 80, 87)"],
[data-theme="night"] p[style*="color: rgb(108, 117, 125)"],
[data-theme="night"] p[style*="color: rgb(33, 37, 41)"],
[data-theme="night"] p[style*="color: #333"],
[data-theme="night"] i[style*="color: rgb(108, 117, 125)"] {
  color: var(--text-primary) !important;
}

/* Border overrides */
[data-theme="night"] div[style*="border: 1px solid #dee2e6"],
[data-theme="night"] div[style*="borderColor: #dee2e6"],
[data-theme="night"] div[style*="border-bottom: 1px solid rgb(233, 236, 239)"],
[data-theme="night"] div[style*="border-bottom:1px solid rgb(233, 236, 239)"],
[data-theme="night"] div[style*="border-bottom: 1px solid rgb(233,236,239)"],
[data-theme="night"] div[style*="border-top: 1px solid rgb(222, 226, 230)"],
[data-theme="night"] div[style*="border-top:1px solid rgb(222, 226, 230)"],
[data-theme="night"] div[style*="border-top: 1px solid rgb(222,226,230)"],
[data-theme="night"] div[style*="border-bottom: 1px solid rgb(222, 226, 230)"],
[data-theme="night"] div[style*="border-bottom:1px solid rgb(222, 226, 230)"],
[data-theme="night"] div[style*="border-bottom: 1px solid rgb(222,226,230)"],
[data-theme="night"] div[style*="border: 1px solid rgb(222, 226, 230)"],
[data-theme="night"] div[style*="border:1px solid rgb(222, 226, 230)"],
[data-theme="night"] input[style*="border: 1px solid rgb(222, 226, 230)"] {
  border-color: var(--border-dark) !important;
}

/* --------------------------------------------------------------------------

/* TemplateEditor component overrides */
[data-theme="night"] .template-config-section {
  background: var(--bg-dark-secondary) !important;
  border-color: var(--border-dark) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .template-config-section h3 {
  color: var(--text-primary) !important;
}

[data-theme="night"] .template-editor-help {
  background: var(--bg-dark-tertiary) !important;
  border-color: var(--border-dark) !important;
  color: var(--text-primary) !important;
}

[data-theme="night"] .template-editor-help h4 {
  color: var(--text-primary) !important;
}

[data-theme="night"] .template-editor-help code {
  background: var(--bg-dark-elevated) !important;
  border: 1px solid var(--border-medium) !important;
  color: var(--color-accent-red) !important;
}

   Responsive
   -------------------------------------------------------------------------- */
@media (max-width: 576px) {
  [data-theme="night"] .card {
    border-radius: 8px;
  }
}

/* --------------------------------------------------------------------------
   Print
   -------------------------------------------------------------------------- */
@media print {
  [data-theme="night"] body {
    background: white !important;
    color: black !important;
  }

  [data-theme="night"] .card {
    background: white !important;
    color: black !important;
    border: 1px solid #dee2e6 !important;
  }
}
